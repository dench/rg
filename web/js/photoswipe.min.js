var initPhotoSwipeFromDOM=function(f){var r=function(h){for(var b=h.childNodes,a=b.length,e=[],c,g,d,k=0;k<a;k++)if(h=b[k],1===h.nodeType){c=h.children;g=h.getAttribute("data-size").split("x");d={src:h.getAttribute("href"),w:parseInt(g[0],10),h:parseInt(g[1],10),author:h.getAttribute("data-author")};d.el=h;0<c.length&&(d.msrc=c[0].getAttribute("src"),1<c.length&&(d.title=c[1].innerHTML));if(c=h.getAttribute("data-med"))g=h.getAttribute("data-med-size").split("x"),d.m={src:c,w:parseInt(g[0],10),h:parseInt(g[1],
10)};d.o={src:d.src,w:d.w,h:d.h};e.push(d)}return e},t=function b(a,e){return a&&(e(a)?a:b(a.parentNode,e))},l=function(b){b=b||window.event;b.preventDefault?b.preventDefault():b.returnValue=!1;if(b=t(b.target||b.srcElement,function(a){return"A"===a.tagName})){for(var a=b.parentNode,e=b.parentNode.childNodes,c=e.length,g=0,d,k=0;k<c;k++)if(1===e[k].nodeType){if(e[k]===b){d=g;break}g++}0<=d&&q(d,a);return!1}},q=function(b,a,e,c){var g=document.querySelectorAll(".pswp")[0];var d=r(a);a={galleryUID:a.getAttribute("data-pswp-uid"),
getThumbBoundsFn:function(a){var b=window.pageYOffset||document.documentElement.scrollTop;a=d[a].el.children[0].getBoundingClientRect();return{x:a.left,y:a.top+b,w:a.width}},addCaptionHTMLFn:function(a,b,c){if(!a.title)return b.children[0].innerText="",!1;b.children[0].innerHTML=a.title+"<br/><small>Photo: "+a.author+"</small>";return!0}};if(c)if(a.galleryPIDs)for(c=0;c<d.length;c++){if(d[c].pid==b){a.index=c;break}}else a.index=parseInt(b,10)-1;else a.index=parseInt(b,10);if(!isNaN(a.index)){b=document.getElementsByName("gallery-style");
c=0;for(var k=b.length;c<k;c++)if(b[c].checked){"radio-all-controls"!=b[c].id&&"radio-minimal-black"==b[c].id&&(a.mainClass="pswp--minimal--dark",a.barsSize={top:0,bottom:0},a.captionEl=!1,a.fullscreenEl=!1,a.shareEl=!1,a.bgOpacity=.85,a.tapToClose=!0,a.tapToToggleControls=!1);break}e&&(a.showAnimationDuration=0);var f=new PhotoSwipe(g,PhotoSwipeUI_Default,d,a);var l,m=!1,p=!0,n;f.listen("beforeResize",function(){var a=window.devicePixelRatio?window.devicePixelRatio:1;a=Math.min(a,2.5);l=f.viewportSize.x*
a;1200<=l||!f.likelyTouchDevice&&800<l||1200<screen.width?m||(n=m=!0):m&&(m=!1,n=!0);n&&!p&&f.invalidateCurrItems();p&&(p=!1);n=!1});f.listen("gettingData",function(a,b){b.src=b.o.src;b.w=b.o.w;b.h=b.o.h});f.init()}};f=document.querySelectorAll(f);for(var m=0,u=f.length;m<u;m++)f[m].setAttribute("data-pswp-uid",m+1),f[m].onclick=l;l=function(){var b=window.location.hash.substring(1),a={};if(5>b.length)return a;b=b.split("&");for(var e=0;e<b.length;e++)if(b[e]){var c=b[e].split("=");2>c.length||(a[c[0]]=
c[1])}a.gid&&(a.gid=parseInt(a.gid,10));return a}();l.pid&&l.gid&&q(l.pid,f[l.gid-1],!0,!0)};